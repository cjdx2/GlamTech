<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="../img/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlamTech</title>
    <link rel="stylesheet" href="../css/staff_profile.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('../php/get_user_session.php')
                .then(response => response.json())
                .then(data => {
                    if (!data.error) {
                        document.getElementById('username').innerText = data.username;
                        document.getElementById('profile-picture').src = data.profile_picture;
                    }
                });

            // Add event listener to the back button
            document.getElementById('back-button').addEventListener('click', function() {
                window.location.href = 'homepage.html';
            });
        });
    </script>
</head>
<body>
    <!-- Back button -->
    <div id="back-button" class="back-button"> 
        <img src="../img/back-button white.png" alt="Back">
    </div>

    <div class="container">
        <h1>Rosalie Marikit</h1>
        <div class="profile-pic">
            <img src="../img/rosalie.png" alt="Profile Picture">
        </div>
        <h2>Expertise: Manicure and Pedicure</h2>
        <p>Employee</p>
    </div>
    <div class="rating">
        <!-- Average rating stars will be updated by JS -->
    </div>
    <form id="feedbackForm" action="../php/save_feedback_rosalie.php" method="POST">
        <div class="container-feedback">
            <div class="user-profile">
                <img src="../img/defaultprofile.jpg" alt="User Profile" id="user-profile-picture">
                <span id="user-username"></span>
            </div>
            <div class="star-rating">
                <input type="radio" id="star5" name="rating" value="5">
                <label for="star5" title="5 stars">☆</label>
                <input type="radio" id="star4" name="rating" value="4">
                <label for="star4" title="4 stars">☆</label>
                <input type="radio" id="star3" name="rating" value="3">
                <label for="star3" title="3 stars">☆</label>
                <input type="radio" id="star2" name="rating" value="2">
                <label for="star2" title="2 stars">☆</label>
                <input type="radio" id="star1" name="rating" value="1">
                <label for="star1" title="1 star">☆</label>
            </div>
            <div class="feedback">
                <textarea id="feedback" name="comment" rows="4" cols="50" placeholder="Write your feedback here..."></textarea>
            </div>
            <div class="submit-button">
                <button type="submit">Submit</button>
            </div>
        </div>
    </form>
    <div class="rating-filters">
        <button id="filter-all" class="filter-button">All</button>
        <button id="filter-5" class="filter-button">5 Star</button>
        <button id="filter-4" class="filter-button">4 Star</button>
        <button id="filter-3" class="filter-button">3 Star</button>
        <button id="filter-2" class="filter-button">2 Star</button>
        <button id="filter-1" class="filter-button">1 Star</button>
    </div>
    <div id="feedback-container"></div>
    <div id="pagination-container"></div>
    <script src="../js/staff_profile.js"></script>
</body>
</html>
